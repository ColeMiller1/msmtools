% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/augment.R
\name{augment}
\alias{augment}
\title{Reshape a longitudinal dataset to data for multi-state analyses.}
\usage{
augment(data, data_key, n_events, pattern, state = list("IN", "OUT", "DEAD"),
  t_start, t_end, t_cens, t_death, t_augmented = "augmented", status_more)
}
\arguments{
\item{data}{A data.table object where each row represents an observation.}

\item{data_key}{A keying variable which \code{augment} uses to define a key for \code{data}.
This represents the subject ID.}

\item{n_events}{An integer indicating the progressive events number of a given ID. If missing,
\code{augment} creates it and put it next to \code{data_key}.}

\item{pattern}{Either an integer, a factor or a characer with 2 or 3 unique values which
provides the ID status at the end of the study. \code{pattern} has a predefined structure.
When 2 values are detected, they must be in the format: 0 = "alive", 1 = "dead". When 3 values
are detected, then the format must be: 0 = "alive", 1 = "dead during a transition",
2 = "dead after a transition has ended".}

\item{state}{A list of 3 possible states which a subject can reach. \code{state} has a predefined
structure given by 3 states: IN, OUT, DEAD.}

\item{t_start, t_end}{The starting and ending time of the observation, respectively. They can be
passed as date, integer, or numeric format.}

\item{t_cens}{The censoring time of the study}

\item{t_death}{The exact death time of a subject ID. If \code{t_death} is missing,
\code{t_cens} is assumed to contain both censoring and death time.}

\item{t_augmented}{The new time variable of the process. If \code{t_augmented} is missing, then
the default name 'augmented' is assumed. The variable is added to \code{data} before
\code{t_start}.}

\item{status_more}{A variable which marks further transitions beside the default given by
\code{state}. If missing, \code{augment} ignores it.}
}
\value{
A restructured long format dataset of class \code{"data.table"} where each row
represents a specific transition.
}
\description{
Converts standard longitudinal data where each observation contains
the exact starting and ending time of the process to data suitable for multi-state analyses using the
\code{\link[msm]{msm}} package.
}
\details{
For example, consider the following toy sample regarding hospital admissions.
\tabular{rrrrrrrrrrrr}{
subj \tab adm_number \tab gender \tab age \tab rehab \tab it \tab rehab_it
\tab label_2 \tab label_3 \tab dateIN \tab dateOUT \tab dateCENS \cr
}
}
\author{
Francesco Grossetti \email{francesco.grossetti@polimi.it}.
}

